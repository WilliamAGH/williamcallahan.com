# HOST=0.0.0.0
PORT=3000
# Production: https://williamcallahan.com
API_BASE_URL=http://localhost:3000
# Production: https://williamcallahan.com
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NODE_ENV=production

# Analytics
NEXT_PUBLIC_UMAMI_WEBSITE_ID=
SENTRY_DSN=
NEXT_PUBLIC_SENTRY_DSN=
SENTRY_AUTH_TOKEN=
SENTRY_SILENT_OUTPUT=false # Controls Sentry Webpack plugin verbosity (true/false)
NEXT_PUBLIC_APP_VERSION= # Used for Sentry release tracking, should match package.json version
SENTRY_LOG_LEVEL= # Sentry SDK log level (e.g., 'debug', 'info', 'warn', 'error')

# API Keys
CLOUDFLARE_API_KEY=
TELEGRAM_BOT_TOKEN=
GROQ_API_KEY=
OPEN_API_KEY=
BOOKMARK_BEARER_TOKEN=
# Base Karakeep URL (without /api/v1); code appends /api/v1 automatically if missing
BOOKMARKS_API_URL=
BOOKMARKS_LIST_ID=
BOOKMARK_CRON_REFRESH_SECRET=
GITHUB_ACCESS_TOKEN_COMMIT_GRAPH=

# GitHub Activity Refresh
# Secure random string for API authorization
GITHUB_REFRESH_SECRET=

# S3 Compatible Storage
S3_BUCKET="williamcallahan-com"
NEXT_PUBLIC_S3_CDN_URL=https://s3-storage.callahan.cloud
S3_SERVER_URL=https://sfo3.digitaloceanspaces.com
S3_ACCESS_KEY_ID=your-s3-access-key
S3_SECRET_ACCESS_KEY=your-s3-secret-key
# Region to use for AWS SDK v3 S3 client (override AWS_REGION if needed, e.g., 'us-east-1' for DigitalOcean Spaces)
S3_REGION=us-east-1
AWS_REGION=us-east-1

# IndexNow key for Bing/Yandex sitemap submissions
INDEXNOW_KEY=your-generated-indexnow-key
GOOGLE_SEARCH_CONSOLE_PROPERTY=sc-domain:williamcallahan.com

# Google Search Console API credentials (from downloaded Service Account JSON key)
GOOGLE_PROJECT_ID="your-google-cloud-project-id"
GOOGLE_CLOUD_PROJECT_NUMBER="your-google-cloud-project-number"
GOOGLE_SEARCH_INDEXING_SA_EMAIL="your-service-account-email@your-project-id.iam.gserviceaccount.com"
GOOGLE_SEARCH_AUTH_USER_EMAIL="email@gmail.com"
# Ensure the private key is a single line in the .env with literal \n for newlines, all enclosed in one pair of double quotes.
GOOGLE_SEARCH_INDEXING_SA_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nPASTE_YOUR_PRIVATE_KEY_CONTENT_HERE_WITH_LITERAL_NEWLINES\nLIKE_THIS\n-----END PRIVATE KEY-----"

# Debug Options (debug mode automatically enabled in development or with --debug flag)
AUTO_REPAIR_CSV_FILES=true

# Memory Management Configuration
# Total memory budget for the entire process (default: 1GB)
TOTAL_PROCESS_MEMORY_BUDGET_BYTES=1073741824
# Memory budget specifically for image cache (default: 512MB)
IMAGE_RAM_BUDGET_BYTES=536870912
# Max size for a single image buffer in bytes (default: 50MB)
MAX_IMAGE_SIZE_BYTES=52428800
# RSS threshold for ImageMemoryManager (default: 1.5GB)
IMAGE_RSS_THRESHOLD=1610612736
# Heap threshold for ImageMemoryManager (default: 256MB)
IMAGE_HEAP_THRESHOLD=268435456

# Bookmark Tag S3 Persistence Configuration
# Controls whether pre-computed tag data is persisted to S3 storage (default: true)
# Set to 'false' to disable tag persistence entirely to reduce S3 storage usage
ENABLE_TAG_PERSISTENCE=true
# Maximum number of tags to persist to S3 (default: unlimited when not set)
# Set a number to limit S3 write operations (e.g., MAX_TAGS_TO_PERSIST=100)
# Leave unset or comment out to persist ALL tags (recommended for best performance)
# MAX_TAGS_TO_PERSIST=

# GitHub stats pending retry configuration
GITHUB_STATS_PENDING_MAX_ATTEMPTS=4
GITHUB_STATS_PENDING_DELAY_MS=10000

# Performance optimizations
# Manifest preloading at boot (enabled by default, set to "false" to disable)
# LOAD_IMAGE_MANIFESTS_AT_BOOT=true
# Next.js 15 caching features (enabled by default, set to "false" to disable)
# USE_NEXTJS_CACHE=true

# Chroma Vector Store (Cloud)
# Get credentials from https://trychroma.com/
CHROMA_API_KEY=
CHROMA_TENANT=tenant-uuid
CHROMA_DATABASE=database-name

# AudioBookShelf API
AUDIOBOOKSHELF_URL=
AUDIOBOOKSHELF_API_KEY=
AUDIOBOOKSHELF_LIBRARY_ID=

# AI (OpenAI-compatible chat gateway)
# Required for /api/ai/token and /api/ai/chat/* endpoints
AI_TOKEN_SIGNING_SECRET=

# Optional defaults (used when feature-specific vars are not set)
AI_DEFAULT_OPENAI_BASE_URL=
AI_DEFAULT_LLM_MODEL=openai/gpt-oss-120b,openai/gpt-oss-20b
# AI_DEFAULT_OPENAI_API_KEY=

# Feature-specific example (feature = "search" -> AI_SEARCH_*)
# AI_SEARCH_OPENAI_BASE_URL=
# AI_SEARCH_LLM_MODEL=openai/gpt-oss-120b,openai/gpt-oss-20b
# AI_SEARCH_OPENAI_API_KEY=
